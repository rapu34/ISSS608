{
  "hash": "f3c1f9d59ff87c4684f0228b30589158",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Hands-on_Ex07\"\nauthor: \"Jeounghyun Kim\"\ndate-modified: \"last-modified\" \nexecute:\n  echo: true\n  eval: true\n  warning: false\n  freeze: true\n---\n\n\n\n# **7  Visualising Uncertainty**\n\n## **7.1 Learning Outcome**\n\nVisualising uncertainty is relatively new in statistical graphics. In this chapter, you will be able:\n\n-   to plot statistics error bars by using ggplot2,\n\n-   to plot interactive error bars by combining ggplot2, plotly and DT,\n\n-   to create advanced by using ggdist, and\n\n-   to create hypothetical outcome plots (HOPs) by using ungeviz package.\n\n## **7.2 Getting Started**\n\n### **7.2.1 Installing and loading the packages**\n\nFor the purpose of this exercise, the following R packages will be used, they are:\n\n-   tidyverse, a family of R packages for data science process,\n\n-   plotly for creating interactive plot,\n\n-   gganimate for creating animation plot,\n\n-   DT for displaying interactive html table,\n\n-   crosstalk for for implementing cross-widget interactions (currently, linked brushing and filtering), and\n\n-   ggdist for visualising distribution and uncertainty.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(plotly, crosstalk, DT, \n               ggdist, ggridges, colorspace,\n               gganimate, tidyverse)\n```\n:::\n\n\n\n### **7.2.2 Data import**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexam <- read_csv(\"/Users/jay/ISSS608-VAA/Hands-on_Ex/Hands_on_Ex07/data/Exam_data.csv\")\n```\n:::\n\n\n\n## **7.3 Visualizing the uncertainty of point estimates: ggplot2 methods**\n\n-   **Point Estimate**\\\n    A point estimate refers to a single value, such as the mean. For example, it represents a calculated statistic like the mean or a specific value derived from a sample dataset.\n\n-   **Uncertainty**\\\n    Uncertainty indicates how much confidence we can have in the point estimate. It is expressed through methods such as the **Standard Error (SE)**, **Confidence Interval (CI)**, or **Credible Interval**.\n\nIn this section, you will learn how to plot error bars of maths scores by race by using data provided in *exam* tibble data frame.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_sum <- exam %>%\n  group_by(RACE) %>%\n  summarise(\n    n=n(),\n    mean=mean(MATHS),\n    sd=sd(MATHS)\n    ) %>%\n  mutate(se=sd/sqrt(n-1))\n```\n:::\n\n\n\n::: callout-tip\n-   `group_by()` of **dplyr** package is used to group the observation by RACE,\n\n-   `summarise()` is used to compute the count of observations, mean, standard deviation\n\n-   `mutate()` is used to derive standard error of Maths by RACE, and\n\n-   the output is save as a tibble data table called *my_sum*.\n:::\n\nNext, the code chunk below will be used to display *my_sum* tibble data frame in an html table format.\n\n::: panel-tabset\n## The Table\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> RACE </th>\n   <th style=\"text-align:right;\"> n </th>\n   <th style=\"text-align:right;\"> mean </th>\n   <th style=\"text-align:right;\"> sd </th>\n   <th style=\"text-align:right;\"> se </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Chinese </td>\n   <td style=\"text-align:right;\"> 193 </td>\n   <td style=\"text-align:right;\"> 76.50777 </td>\n   <td style=\"text-align:right;\"> 15.69040 </td>\n   <td style=\"text-align:right;\"> 1.132357 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Indian </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 60.66667 </td>\n   <td style=\"text-align:right;\"> 23.35237 </td>\n   <td style=\"text-align:right;\"> 7.041005 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Malay </td>\n   <td style=\"text-align:right;\"> 108 </td>\n   <td style=\"text-align:right;\"> 57.44444 </td>\n   <td style=\"text-align:right;\"> 21.13478 </td>\n   <td style=\"text-align:right;\"> 2.043177 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Others </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 69.66667 </td>\n   <td style=\"text-align:right;\"> 10.72381 </td>\n   <td style=\"text-align:right;\"> 3.791438 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n## The code chunk\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::kable(head(my_sum), format = 'html')\n```\n:::\n\n\n:::\n\n### **7.3.1 Plotting standard error bars of point estimates**\n\nNow we are ready to plot the standard error bars of mean maths score by race as shown below.\n\n::: panel-tabset\n## The Plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Hands-on_Ex07_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n## The code chunk\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    linewidth=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  ggtitle(\"Standard error of mean maths score by rac\")\n```\n:::\n\n\n:::\n\n:::: panel-tabset\n::: callout-tip\n**Things to learn from the code chunk above**\n\n-   The error bars are computed by using the formula mean+/-se.\n\n-   For `geom_point()`, it is important to indicate *stat=“identity”*.\n:::\n::::\n\n### **11.3.2 Plotting confidence interval of point estimates**\n\nInstead of plotting the standard error bar of point estimates, we can also plot the confidence intervals of mean maths score by race.\n\n::: panel-tabset\n## The Plot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Hands-on_Ex07_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n## The code chunk\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=reorder(RACE, -mean), \n        ymin=mean-1.96*se, \n        ymax=mean+1.96*se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    linewidth=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  labs(x = \"Maths score\",\n       title = \"95% confidence interval of mean maths score by race\")\n```\n:::\n\n\n:::\n\n:::: panel-tabset\n::: callout-tip\n**Things to learn**\n\n-   The confidence intervals are computed by using the formula mean+/-1.96\\*se.\n\n-   The error bars is sorted by using the average maths scores.\n\n-   `labs()` argument of ggplot2 is used to change the x-axis label.\n:::\n::::\n",
    "supporting": [
      "Hands-on_Ex07_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}